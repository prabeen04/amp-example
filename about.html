<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GG Interstitial Ad Example</title>
  </head>
  <body>
    <script type="text/javascript">
      (() => {
        "use strict";
        var n =
          '\n\nbody {\n    background: rgba(52, 58, 65, 0.6);\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n    height: 100%;\n  }\n\n  .creative {\n    transition: opacity 1s;\n    -webkit-transition: opacity 1s;\n    position: relative;\n  }\n  #card {\n    background-color: #fff;\n    border-radius: 6px;\n    padding: 0 6px 1px;\n    position: relative;\n    box-shadow: 0px 8px 12px rgba(60, 64, 67, 0.15),\n      0px 4px 4px rgba(60, 64, 67, 0.3);\n  }\n  html {\n    height: 100%;\n  }\n  .toprow {\n    width: 100%;\n    display: table;\n    height: 26px;\n    background-color: #fff;\n  }\n  .btn {\n    display: table;\n    transition: opacity 1s, background 0.75s;\n    -webkit-transition: opacity 1s, background 0.75s;\n    -moz-transition: opacity 1s, background 0.75s;\n    -o-transition: opacity 1s, background 0.75s;\n    background: transparent;\n    color: #fff;\n  }\n  .btn > div {\n    display: table-cell;\n    vertical-align: middle;\n  }\n  .skip {\n    opacity: 0.95;\n    padding: 6px 6px 0;\n    float: right;\n  }\n  .skip svg {\n    height: 1.3em;\n    width: 1.3em;\n    margin-left: -0.5em;\n    margin-right: -0.5em;\n    vertical-align: middle;\n    padding-bottom: 1px;\n    border: 1px solid #000000;\n    border-radius: 4px;\n  }\n\n  .heading {\n    font-size: 16px;\n    font-weight: 700;\n    font-family: "Roboto", arial, sans-serif;\n    color: #202124;\n    position: relative;\n    height: 25px;\n    padding: 6px 6px 0;\n    float: left;\n  }\n\n  #ad_position_box {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n  }\n  @media screen and (max-width: 960px) {\n    body {\n      background: rgba(52, 58, 65, 0.6);\n      backdrop-filter: blur(\n        5px\n      ); /*potential issue: minimal browser support*/\n      -webkit-backdrop-filter: blur(5px); /*for safari*/\n    }\n\n    html {\n      height: 100%;\n    }\n    #card {\n      padding: 0;\n    }\n    .toprow {\n      width: 100%;\n      font-family: "Roboto", arial, sans-serif;\n      display: table;\n      height: 30px;\n      font-size: 18px;\n      background-color: #424242;\n    }\n    .btn {\n      display: table;\n      transition: opacity 1s, background 0.75s;\n      -webkit-transition: opacity 1s, background 0.75s;\n      -moz-transition: opacity 1s, background 0.75s;\n      -o-transition: opacity 1s, background 0.75s;\n      height: 30px;\n      padding-top: 15px;\n      padding-bottom: 15px;\n      background: transparent;\n      padding-right: 0.25em;\n      color: #fff;\n    }\n    #dismiss-button {\n      padding-left: 0.5em;\n      padding-right: 0.5em;\n    }\n    .btn > div {\n      display: table-cell;\n      vertical-align: middle;\n      padding: 0 0.25em;\n    }\n    .skip {\n      opacity: 0.95;\n      float: right;\n    }\n    .skip svg {\n      height: 1.3em;\n      width: 1.3em;\n      margin-left: -0.3em;\n      margin-right: -0.3em;\n      vertical-align: middle;\n      padding-bottom: 1px;\n      outline: 2px solid #ffffff;\n      fill: #ffffff;\n    }\n\n    .heading {\n      margin: auto;\n    }\n    .creative {\n      transition: opacity 1s;\n      -webkit-transition: opacity 1s;\n      position: relative;\n    }\n    #ad_position_box {\n      position: relative;\n      height: 100%;\n    }\n  }\n\n';
        function t(n, t) {
          for (var i in t) n.setAttribute(i, t[i]);
        }
        function i(n) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
          console.log(n);
          var i = n.getElementsByTagName("head")[0],
            e = n.createElement("style");
          i.appendChild(e),
            (e.type = "text/css"),
            e.styleSheet
              ? (e.styleSheet.cssText = t)
              : e.appendChild(n.createTextNode(t));
        }
        function e(n, t) {
          if (!(n instanceof t))
            throw new TypeError("Cannot call a class as a function");
        }
        function a(n, t) {
          for (var i = 0; i < t.length; i++) {
            var e = t[i];
            (e.enumerable = e.enumerable || !1),
              (e.configurable = !0),
              "value" in e && (e.writable = !0),
              Object.defineProperty(n, e.key, e);
          }
        }
        (window.INTERSTITIAL_IFRAME_STYLES = n), (window.injectStyles = i);
        var o = (function () {
          function o() {
            var n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {};
            e(this, o),
              (this.topWindow = window.top),
              (this.topDocument = this.topWindow.document),
              (this.delay = n.delay || 1e3),
              (this.zIndex = n.zindex || 9999),
              (this.isInitialized = !1),
              (this.adContainer = this.topDocument.createElement("div")),
              (this.closeButton = "");
          }
          var r, d;
          return (
            (r = o),
            (d = [
              {
                key: "createAdContainer",
                value: function () {
                  (this.adContainer.innerHTML = ""),
                    (this.adIframe = this.topDocument.createElement("iframe")),
                    this.adContainer.appendChild(this.adIframe),
                    t(this.adIframe, {
                      frameborder: "0",
                      title: "3rd party ad content",
                      name: "",
                      scrolling: "no",
                      marginwidth: "0",
                      marginheight: "0",
                      width: "",
                      height: "",
                      "data-is-safeframe": "true",
                      sandbox:
                        "allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation",
                      allow: "autoplay",
                      role: "region",
                      "aria-label": "Advertisement",
                      tabindex: "0",
                      "data-google-container-id": "1",
                      style:
                        "\n          border: 0px !important;\n          vertical-align: bottom !important;\n          width: 100vw !important;\n          height: 100vh !important;\n          inset: 0px auto auto 0px !important;\n          position: absolute !important;\n          clear: none !important;\n          display: inline !important;\n          float: none !important;\n          margin: 0px !important;\n          max-height: none !important;\n          max-width: none !important;\n          opacity: 1 !important;\n          overflow: visible !important;\n          padding: 0px !important;\n          visibility: visible !important;\n          z-index: auto !important;",
                    }),
                    this.topDocument.body.append(this.adContainer);
                  var e = this.adIframe.contentDocument;
                  (window.iFrameDoc = e),
                    e.open(),
                    e.write(
                      '\n    <html>\n    <head>\n        <meta charset="UTF-8" />\n    </head>\n    <body marginwidth="0" marginheight="0">\n        <div id="ad_position_box">\n        <div id="card">\n            <div class="toprow" id="top-row">\n              <div id="heading" class="btn heading"><div class="text">Ad</div></div>\n            </div>\n            <div class="creative" id="creative">\n            <script\n                async\n                src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"\n            ><\/script>\n            <div id="gpt-passback">\n                <script>\n                window.googletag = window.googletag || { cmd: [] };\n                googletag.cmd.push(function () {\n                    googletag\n                    .defineSlot(\n                        "/22387492205/test_100x100",\n                        [100, 100],\n                        "gpt-passback"\n                    )\n                    .addService(googletag.pubads());\n                    googletag.enableServices();\n                    googletag.display("gpt-passback");\n                });\n                <\/script>\n            </div>\n            </div>\n        </div>\n        </div>\n    </body>\n    </html>\n\n    '
                    ),
                    e.close(),
                    i(e, n),
                    this.registerOutsideClickListener(e),
                    this.createCloseButton(this, e),
                    (this.isInitialized = !0);
                },
              },
              {
                key: "closeAd",
                value: function () {
                  this.adContainer.remove();
                },
              },
              {
                key: "registerOutsideClickListener",
                value: function (n) {
                  var t = this;
                  n.addEventListener("click", function (i) {
                    n.getElementById("card").contains(i.target) || t.closeAd();
                  });
                },
              },
              {
                key: "createCloseButton",
                value: function (n, i) {
                  var e = i.getElementById("top-row"),
                    a = i.createElement("div");
                  t(a, {
                    id: "",
                    class: "btn skip",
                    "aria-label": "Close ad",
                    role: "button",
                    tabindex: "0",
                  }),
                    (a.innerHTML =
                      '\n    <div style="cursor: pointer">\n        <svg viewBox="0 0 48 48" fill="inherit">\n        <path\n        d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"\n        ></path>\n        <path d="M0 0h48v48H0z" fill="none"></path>\n        </svg>\n    </div> \n    \n    '),
                    a.addEventListener(
                      "click",
                      function (t) {
                        n.closeAd();
                      },
                      !1
                    ),
                    e.appendChild(a);
                },
              },
              {
                key: "init",
                value: function () {
                  this.isInitialized ||
                    (this.delay
                      ? setTimeout(
                          this.createAdContainer.bind(this),
                          this.delay
                        )
                      : this.createAdContainer());
                },
              },
            ]) && a(r.prototype, d),
            Object.defineProperty(r, "prototype", { writable: !1 }),
            o
          );
        })();
        !(function (n) {
          var t, i;
          (null != n &&
            null !== (t = n.top) &&
            void 0 !== t &&
            t.__ggIAdManager__) ||
            ((i = new o({})), (n.top.__ggIAdManager__ = i));
          try {
            var e;
            null === (e = i) || void 0 === e || e.init();
          } catch (n) {}
        })(window);
      })();
    </script>
  </body>
</html>
